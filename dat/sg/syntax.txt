__define START          	 1
__define eps            	 2

// NOTE : low word should be unique for every key
__define TOKEN_ARGS_START	 4096
__define DYNAMIC_OP_START	 4097
__define TOKEN 	                 4112
__define SCOPE_TOKEN 	         4113
__define PARAM_TOKEN 	         4114
__define SCOPE_DECLARATION	 4128
__define SCOPE_CLASS_DECLARATION 4129
__define SCOPE_FIELD_DECLARATION 4130
__define BASE 			 4176
__define BLOCK 		         4192
__define DISPATCH		 4208
__define MESSAGE	         4224
__define BLOCK_END	         4240
__define PARAMETER 		 4304
__define FIELD_ASSIGNER          4384
__define INLINE_DECLARATION 	 4432
__define INLINE_ARG 	         4448
__define INLINE_ARG_PARAM        4576
__define L3_OPERATOR  	       135408

__define RET_EXPRESSION	       201280

__define OPERATOR_OP_END      4395184
__define PROPERTY_OP_END      4395312
__define MESSAGE_OP_END       4395568
__define ASSIGNMENT_OP_END    4395776
__define TOKEN_ARGS_END       6296336
__define DYNAMIC_OP_END       6296432

__define EXPRESSION            201232
__define ROOT_EXPRESSION       201233
__define OPERAND_EXPRESSION    201234
__define L3_EXPRESSION         201235

__define eof            	 8208
__define identifier 	 	 8209
__define hex 			 8210
__define reference		 8211
__define global			 8212
__define integer                 8213
__define literal                 8214
__define meta                    8215
__define wide                    8216
__define character               8217
__define long                    8218
__define real                    8219
__define constant                8220

START ->
	DECLARATION DECLARATIONS eof
	| eof

DECLARATION ->
        SCOPE_TOKEN NEXT_DECLARATION_ITEM
	| OPENING_SBRACKET INLINE_ARG INLINE_ARGS SCOPE_TOKEN NEXT_DECLARATION_ITEM
	| #inline SCOPE_TOKEN INLINE_DECLARATION

INLINE_DECLARATION ->
	 OPENING_CURLY_BRACKET SCOPE_FIELD_DECLARATIONS CLOSING_CURLY_BRACKET

INLINE_ARGS ->
	OPENING_SBRACKET INLINE_ARG INLINE_ARGS
	| eps	

DECLARATIONS ->
	DECLARATION DECLARATIONS
	| eps

NEXT_DECLARATION_ITEM ->
	SCOPE_TOKEN NEXT_DECLARATION_ITEM
	| SCOPE_DECLARATION

SCOPE_DECLARATION ->
        CLASS_DECLARATION
	| COLON BASE BASE_DECLARATION
	| SYMBOL_DECLARATION DECLARATION_END
	| METHOD_DECLARATION
	| ASSIGN_OPERATOR FIELD_ASSIGNER DECLARATION_END
	| DECLARATION_END

SCOPE_FIELD_DECLARATION ->
	ASSIGN_OPERATOR FIELD_ASSIGNER DECLARATION_END	

SCOPE_FIELD_DECLARATIONS ->
	SCOPE_TOKEN NEXT_FIELD_TOKEN SCOPE_FIELD_DECLARATION SCOPE_FIELD_DECLARATIONS
	| eps

BASE_DECLARATION ->
	CLASS_DECLARATION
	| DECLARATION_END
	| , BASE BASE_DECLARATION

CLASS_DECLARATION ->
	{ SCOPE_DECLARATIONS }

SYMBOL_DECLARATION ->
	= EXPRESSION

METHOD_DECLARATION ->
	( PARAMETERS ) METHOD_BODY

FIELD_ASSIGNER ->
	EXPRESSION

SCOPE_DECLARATIONS ->
	SCOPE_TOKEN NEXT_DECLARATION_ITEM SCOPE_DECLARATIONS
	| eps

NEXT_FIELD_TOKEN ->
	SCOPE_TOKEN NEXT_FIELD_TOKEN
	| eps

METHOD_BODY ->
	BLOCK
	| = RET_EXPRESSION DECLARATION_END
	| => DISPATCH DECLARATION_END

DISPATCH ->
	EXPRESSION

RET_EXPRESSION ->
	EXPRESSION

BLOCK ->
	OPENING_CURLY_BRACKET STATEMENTS

STATEMENTS ->
	STATEMENT NEXT_STATEMENT
	| ^ RET_EXPRESSION RET_STATEMENT_END
	| BLOCK_END

NEXT_STATEMENT ->
        DECLARATION_END STATEMENTS
	| BLOCK_END

STATEMENT ->
	ROOT_EXPRESSION

ROOT_EXPRESSION ->
	TOKEN TR_OPERATIONS
	| integer E_OPERATIONS
	| long E_OPERATIONS
	| real E_OPERATIONS
	| hex E_OPERATIONS
	| literal E_OPERATIONS
	| character E_OPERATIONS
	| wide E_OPERATIONS
	| constant E_OPERATIONS

EXPRESSION ->
        TOKEN TI_OPERATIONS
	| integer E_OPERATIONS
	| long E_OPERATIONS
	| real E_OPERATIONS
	| hex E_OPERATIONS
	| literal E_OPERATIONS
	| character E_OPERATIONS
	| wide E_OPERATIONS
	| constant E_OPERATIONS
	| meta

L3_EXPRESSION ->
	TOKEN E3_OPERATIONS
	| GLOBAL_TOKEN E3_OPERATIONS
	| OPENING_BRACKET SUB_EXPRESSION E3_OPERATIONS
	| CLOSURE_EXPRESSION E3_OPERATIONS
	| integer E3_OPERATIONS
	| long E3_OPERATIONS
	| real E3_OPERATIONS
	| hex E3_OPERATIONS
	| literal E3_OPERATIONS
	| character E3_OPERATIONS
	| wide E3_OPERATIONS
	| constant E3_OPERATIONS

OPERAND_EXPRESSION ->
	literal

TOKENS ->
	PARAM_TOKEN NEXT_TOKEN

NEXT_TOKEN ->
	TOKENS
	| eps

TOKEN ->
	identifier
	| reference

SCOPE_TOKEN ->
	identifier TOKEN_R 
	| reference TOKEN_R

TOKEN_R ->
	DYNAMIC_OP TOKEN_R2
	| TOKEN_ARGS TOKEN_R2
	| eps

TOKEN_R2 ->
	DYNAMIC_OP TOKEN_R2
	| eps

PARAM_TOKEN ->
	identifier TOKEN_R

TOKEN_ARGS ->
	OPENING_EDGE_BRACKET TOKEN_ARG NEXT_TOKEN_ARG TOKEN_ARGS_END

EXPR_TOKEN_ARGS ->
	 TOKEN_ARGS_START TOKEN_ARG NEXT_TOKEN_ARG TOKEN_ARGS_END

TOKEN_ARGS_START ->
	OPENING_EDGE_BRACKET

TOKEN_ARG ->
	SCOPE_TOKEN

NEXT_TOKEN_ARG ->
	, TOKEN_ARG NEXT_TOKEN_ARG
	| eps

TOKEN_ARGS_END ->
	CLOSING_EDGE_BRACKET

DYNAMIC_OP ->
	DYNAMIC_OPERATOR DYNAMIC_OP_END

EXPR_DYNAMIC_OP ->
	DYNAMIC_OP_START DYNAMIC_OP_END

TR_OPERATIONS ->
	TOKEN T_OPERATIONS
	| T0_OPERATIONS

TI_OPERATIONS ->
	TOKEN T_OPERATIONS
	| L0_OPERATION L0_OPERATIONS L0_FOLLOWERS
	| L1_OPERATION L1_OPERATIONS L1_FOLLOWERS
	| L2_OPERATION L2_OPERATIONS L2_FOLLOWERS
	| ASSIGNMENT_OPERATION
	| OPERATIONS

T_OPERATIONS ->
	TOKEN T_OPERATIONS
	| L1_OPERATION L1_OPERATIONS L2_OPERATIONS L3_OPERATIONS
        | T0_OPERATIONS

T0_OPERATIONS ->
	EXPR_TOKEN_ARGS TEMPLATE_OPERATIONS
	| EXPR_DYNAMIC_OP ARR_TEMPLATE_OPERATIONS
	| L0_OPERATION L0_OPERATIONS L0_FOLLOWERS
	| L2_OPERATION L2_OPERATIONS L2_FOLLOWERS
	| ASSIGNMENT_OPERATION
	| OPERATIONS

E_OPERATIONS ->
        L1_OPERATION L1_OPERATIONS L2_OPERATIONS L3_OPERATIONS
	| L2_OPERATION L2_OPERATIONS  L3_OPERATIONS
	| OPERATIONS

E3_OPERATIONS ->
	L0_OPERATION L0_OPERATIONS L1_OPERATIONS L2_OPERATIONS
	| L1_OPERATION L1_OPERATIONS L2_OPERATIONS
	| L2_OPERATION L2_OPERATIONS
	| eps	

OPERATIONS ->
	L3_OPERATION L3_OPERATIONS
	| eps

TEMPLATE_OPERATIONS ->
	TOKEN ASSIGNMENT_OPERATIONS
	| EXPR_DYNAMIC_OP ARR_TEMPLATE_OPERATIONS
	| L0_OPERATION L0_OPERATIONS L0_FOLLOWERS
	| E_OPERATIONS

ARR_TEMPLATE_OPERATIONS ->
	TOKEN ASSIGNMENT_OPERATIONS
	| EXPR_DYNAMIC_OP ARR_TEMPLATE_OPERATIONS
	| L0_OPERATION L0_OPERATIONS L0_FOLLOWERS
	| E_OPERATIONS

ASSIGNMENT_OPERATIONS ->
	ASSIGNMENT_OPERATION
	| eps	

ARRAY_OPERATION ->
	OPENING_SBRACKET

L0_OPERATIONS ->
	L0_OPERATION L0_OPERATIONS
	| eps

L0_OPERATION ->
	ARRAY_OPERATION

L1_OPERATIONS ->
	L1_OPERATION L1_OPERATIONS
	| eps

L1_OPERATION ->
  	IMPLICIT_OPERATION

L2_OPERATIONS ->
	L2_OPERATION L2_OPERATIONS
	| eps

L2_OPERATION ->
	. L2_OPERATOR_BODY

L2_OPERATOR_BODY ->
	MESSAGE MESSAGE_BODY

L0_FOLLOWERS ->
	L1_OPERATION L1_OPERATIONS L1_FOLLOWERS
	| L2_OPERATION L2_OPERATIONS L2_FOLLOWERS
	| L3_OPERATION L3_OPERATIONS
	| eps

L1_FOLLOWERS ->
	L2_OPERATION L2_OPERATIONS L2_FOLLOWERS
	| L3_OPERATION L3_OPERATIONS
	| eps

L2_FOLLOWERS ->
	L3_OPERATION L3_OPERATIONS
	| ASSIGNMENT_OPERATION
	| eps

L3_OPERATIONS ->
	L3_OPERATION L3_OPERATIONS
	| eps

L3_OPERATION ->
	L3_OPERATOR L3_EXPRESSION OPERATOR_OP_END

IMPLICIT_OPERATION ->
        OPENING_BRACKET MESSAGE_PARAMETERS MESSAGE_OP_END

MESSAGE_BODY ->
	OPENING_BRACKET MESSAGE_PARAMETERS MESSAGE_OP_END
	| PROPERTY_OP_END

MESSAGE_OP_END ->
	CLOSING_BRACKET 

PROPERTY_OP_END ->
	eps

PARAMETERS ->
	PARAMETER NEXT_PARAMETER	
	| eps

NEXT_PARAMETER ->
	, PARAMETER NEXT_PARAMETER
	| eps	

MESSAGE_PARAMETERS ->
	EXPRESSION NEXT_MESSAGE_PARAMETER
	| eps

NEXT_MESSAGE_PARAMETER ->
	, EXPRESSION NEXT_MESSAGE_PARAMETER
	| eps	

MESSAGE ->
	identifier

PARAMETER ->
	TOKENS	

ASSIGNMENT_OPERATION ->
	ASSIGN_OPERATOR EXPRESSION ASSIGNMENT_OP_END

ASSIGNMENT_OP_END ->
	eps

ASSIGN_OPERATOR ->
	:=

L3_OPERATOR ->
	*
	| /
	| $shr
	| $shl
	| $sizeof

INLINE_ARG ->
	identifier INLINE_PARAMS 

INLINE_PARAMS ->
	: OPERAND_EXPRESSION NEXT_INLINE_PARAM
	| CLOSING_SBRACKET

NEXT_INLINE_PARAM ->
	, OPERAND_EXPRESSION NEXT_INLINE_PARAM
	| CLOSING_SBRACKET

BASE ->
	SCOPE_TOKEN

OPENING_BRACKET ->
	(

OPENING_CURLY_BRACKET ->
	{

OPENING_EDGE_BRACKET ->
	<

OPENING_SBRACKET ->
	[

DYNAMIC_OPERATOR ->
	[] 

DYNAMIC_OP_START ->
	DYNAMIC_OPERATOR 

DYNAMIC_OP_END ->
	eps 

OPERATOR_OP_END ->
	eps

COLON ->
	:

RET_STATEMENT_END ->
	DECLARATION_END BLOCK_END
	| BLOCK_END

DECLARATION_END ->
	;

CLOSING_EDGE_BRACKET ->
	>

CLOSING_BRACKET ->
	)

BLOCK_END ->
	}

CLOSING_SBRACKET ->
	]

CLOSING_CURLY_BRACKET ->
	}
